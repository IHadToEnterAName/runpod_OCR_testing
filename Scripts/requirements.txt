# =============================================================================
# RAG Document Assistant - Requirements
# =============================================================================
# Compatible versions for Python 3.10+ with Blackwell GPU support
# Last updated: 2025

# --- IMPORTANT: PyTorch Installation ---
# For Blackwell GPU (SM 12.0), install PyTorch separately FIRST:
#   pip install torch>=2.6.0 torchvision torchaudio --index-url https://download.pytorch.org/whl/cu128
#
# Then install vLLM from source (see setup_vllm.sh)
# Finally, install the rest: pip install -r requirements.txt

# --- Core ML Framework (Install separately with CUDA 12.8 support) ---
# torch>=2.6.0  # Installed separately via --index-url
# torchvision>=0.17.0  # Installed with torch
# torchaudio>=2.2.0  # Installed with torch

# --- Transformers & Embeddings ---
transformers>=4.40.0
sentence-transformers>=3.0.0
tiktoken>=0.7.0
einops  # Required by nomic embedding model

# --- LangChain Stack ---
langchain>=0.2.0
langchain-community>=0.2.0
langchain-core>=0.2.0
langchain-text-splitters>=0.2.0
langgraph>=0.2.0

# --- Vector Store ---
chromadb>=0.5.0

# --- Cache & State ---
redis>=5.0.0
hiredis>=2.3.0

# --- Document Processing ---
PyMuPDF>=1.24.0
python-docx>=1.1.0
Pillow>=10.0.0

# --- Web Framework ---
chainlit>=1.1.0
fastapi>=0.110.0
uvicorn[standard]>=0.29.0

# --- OpenAI Client (for vLLM) ---
openai>=1.30.0
httpx>=0.27.0

# --- Utilities ---
numpy>=1.26.0,<2.2.0  # Pin to avoid breaking changes
pandas>=2.2.0
pydantic>=2.7.0
python-dotenv>=1.0.0
pyyaml>=6.0.0

# --- Database (Optional - only if using Airflow) ---
# psycopg2-binary>=2.9.9
# sqlalchemy>=2.0.0
# apache-airflow==2.8.0
# apache-airflow-providers-redis==3.4.0

# --- vLLM Optimization ---
hf_transfer
uvloop

# --- Typing ---
typing-extensions>=4.10.0

# --- Development (optional) ---
pytest>=8.0.0
pytest-asyncio>=0.23.0
black>=24.0.0
flake8>=7.0.0
